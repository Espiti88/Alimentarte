-- MySQL Script generated by MySQL Workbench
-- Fri Mar  3 19:46:19 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema ParcialAlimentarte
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema ParcialAlimentarte
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `ParcialAlimentarte` DEFAULT CHARACTER SET utf8 ;
USE `ParcialAlimentarte` ;

-- -----------------------------------------------------
-- Table `ParcialAlimentarte`.`Clientes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ParcialAlimentarte`.`Clientes` (
  `idCliente` INT NOT NULL,
  `nombre` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(10) NOT NULL,
  `correo` VARCHAR(30) NULL,
  PRIMARY KEY (`idCliente`),
  UNIQUE INDEX `correo_UNIQUE` (`correo` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ParcialAlimentarte`.`Categorias`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ParcialAlimentarte`.`Categorias` (
  `idCategoria` INT NOT NULL,
  `nombre` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`idCategoria`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ParcialAlimentarte`.`Restaurantes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ParcialAlimentarte`.`Restaurantes` (
  `idRestaurante` INT NOT NULL,
  `nombre` VARCHAR(20) NOT NULL,
  `categoria` INT NOT NULL,
  `slogan` VARCHAR(65) NOT NULL,
  `direccion` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`idRestaurante`),
  INDEX `FK_CategoriasRestaurantes_categoria_idx` (`categoria` ASC) VISIBLE,
  CONSTRAINT `FK_CategoriasRestaurantes_categoria`
    FOREIGN KEY (`categoria`)
    REFERENCES `ParcialAlimentarte`.`Categorias` (`idCategoria`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ParcialAlimentarte`.`Platos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ParcialAlimentarte`.`Platos` (
  `idPlato` INT NOT NULL,
  `nombre` VARCHAR(20) NOT NULL,
  `precio` INT NOT NULL,
  `mani` VARCHAR(2) NOT NULL,
  `picante` VARCHAR(2) NOT NULL,
  `restaurante` INT NOT NULL,
  `descripcion` VARCHAR(120) NULL,
  PRIMARY KEY (`idPlato`),
  UNIQUE INDEX `descripcion_UNIQUE` (`descripcion` ASC) VISIBLE,
  INDEX `FK_RestaurantesPlatos_restaurante_idx` (`restaurante` ASC) VISIBLE,
  CONSTRAINT `FK_RestaurantesPlatos_restaurante`
    FOREIGN KEY (`restaurante`)
    REFERENCES `ParcialAlimentarte`.`Restaurantes` (`idRestaurante`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ParcialAlimentarte`.`Pedidos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ParcialAlimentarte`.`Pedidos` (
  `idCliente` INT NOT NULL,
  `idPlato` INT NOT NULL,
  `fecha_hora` DATETIME NOT NULL,
  PRIMARY KEY (`idCliente`, `idPlato`, `fecha_hora`),
  INDEX `FK_PlatosPedidos_IdPlato_idx` (`idPlato` ASC) VISIBLE,
  CONSTRAINT `FK_ClientesPedidos_IdCliente`
    FOREIGN KEY (`idCliente`)
    REFERENCES `ParcialAlimentarte`.`Clientes` (`idCliente`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `FK_PlatosPedidos_IdPlato`
    FOREIGN KEY (`idPlato`)
    REFERENCES `ParcialAlimentarte`.`Platos` (`idPlato`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;




USE `ParcialAlimentarte` ;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

INSERT INTO clientes VALUES
(1000697189,'Camila Garzon','3213989970','camilan@gmail.com'),
(1019602308,'Gabriella Espitia','3219134853','espitiag@gmail.com'),
(52340604,'Carolina Garzon','3118769243','carog@gmail.com'),
(20644688,'Esperanza Osorio','3116748414','eosorio@gmail.com');

INSERT INTO categorias VALUES
(1111,'Colombiana'),
(2222,'Mexicana'),
(3333,'Italiana'),
(4444,'Postres');

INSERT INTO restaurantes VALUES
(1212,'Don Jediondo',1111,'Come rico, come jediondo','Quinta de Mutis'),
(1313,'La vaca que rie',1111,'Para, come y riete un rato','CC Santa Barbara'),
(2121,'A todo taco',2222,'Un taco al dia es llave de alegria','Usaquen'),
(2323,'Sipote burrito',2222,'Comete sipote almuerzo','CC Fontanar'),
(3131,'Storia de Amore',3333,'Enamorate con la comida','Cra 7 # 50'),
(3232,'Pizza x metro',3333,'Come italiano x cada metro','Clle 93 #13a'),
(4141,'Crepes & Waffles',4444,'Oh Crépe!','Autopista 200'),
(4242,'Alpina',4444,'Por un mundo delicioso','Glorieta Sopó');

INSERT INTO platos VALUES
(12121,'Bandeja Paisa',30000,'no','si',1212,'Bandeja de fríjoles,chicharrón, arroz, carne, chorizo, morcilla y aguacate'),
(13131,'Mondongo',25000,'no','no',1313,'Sopa hecha de callos y verduras acompañado de arroz y aguacate'),
(21212,'Taco loco',10000,'no','si',2121,'Tortilla de maiz rellena de carne guisada, guacamole y chile'),
(23232,'Explo-Burrito',12000,'no','si',2323,'Tortilla rellena de arroz, frijoles, queso, pimenton, carne y papa'),
(31313,'Pasta Carbonarte',40000,'no','no',3131,'Fetuccini en salsa de tocineta,queso azul y salsa napolitana'),
(32323,'HamburPizza',15000,'no','no',3232,'Pizza de masa gruesa con carne, tomate, tocineta y queso'),
(41414,'Dama Blanca',12000,'si','no',4141,'Copa de helado de vainilla y chocolate con chantilly y galleta'),
(42424,'Miloja',8000,'no','no',4242,'Tres capas de hojaldre con un relleno de merengue y arequipe'),
(42423,'Fresas Casadas',5000,'si','no',4242,'Copa de fresas, chantilly, salsa de chocolate acompañada de arandanos secos y maní');



INSERT INTO pedidos VALUES 
(1000697189,12121,'2023-02-24 12:30:00'),
(1000697189,23232,'2023-02-24 16:36:00'),
(1000697189,42424,'2023-02-24 17:37:00'),
(1019602308,32323,'2023-02-25 13:45:03'),
(1019602308,32323,'2023-02-25 15:45:03'),
(1019602308,42423,'2023-02-25 17:45:03'),
(52340604,42423,'2023-02-25 18:05:00'),
(20644688,23232,'2023-02-24 14:15:08'),
(20644688,31313,'2023-02-24 14:30:08'),
(20644688,41414,'2023-02-24 16:15:08'),
(1000697189,12121,'2023-02-25 16:30:00'),
(52340604,12121,'2023-02-25 18:05:00');
